" Specify a directory for plugins
"
" - For Neovim: ~/.local/share/nvim/plugged
" - Avoid using standard Vim directory names like 'plugin'
call plug#begin('~/.local/share/nvim/plugged')


Plug 'Shougo/denite.nvim', { 'do': ':UpdateRemotePlugins' }
Plug 'Shougo/deoplete.nvim', { 'do': ':UpdateRemotePlugins' }
Plug 'Shougo/neosnippet'
Plug 'Shougo/neosnippet-snippets'
Plug 'Shougo/defx.nvim', { 'do': ':UpdateRemotePlugins' }
Plug 'Shougo/deol.nvim'
Plug 'morhetz/gruvbox'
" Plug 'Shougo/neoinclude.vim'

Plug 'w0rp/ale'
Plug 'pbrisbin/vim-mkdir'

" Plug 'vim-scripts/VimIRC.vim'
Plug 'neomake/neomake'
" Plug 'ap/vim-buftabline'
"
"
Plug 'nvim-lua/plenary.nvim'
Plug 'nvim-telescope/telescope.nvim'
Plug 'MunifTanjim/nui.nvim'
Plug 'stevearc/oil.nvim'

Plug 'kyazdani42/nvim-web-devicons' " for file icons
Plug 'kyazdani42/nvim-tree.lua'
Plug 'tpope/vim-flagship'
Plug 'ryanoasis/vim-devicons'
Plug 'embear/vim-localvimrc'
Plug 'tpope/vim-vinegar'
Plug 'tpope/vim-eunuch'
Plug 'tpope/gem-ctags'
Plug 'tpope/vim-fugitive'
Plug 'tpope/vim-rhubarb'
Plug 'janko-m/vim-test'

Plug 'tpope/vim-sleuth'
Plug 'chr4/nginx.vim'
Plug 'wannesm/wmgraphviz.vim'
Plug 'schickling/vim-bufonly'
Plug 'tpope/vim-dispatch'
Plug 'radenling/vim-dispatch-neovim'
Plug 'tpope/vim-repeat'
Plug 'vim-scripts/Arduino-syntax-file'
Plug 'junegunn/vim-peekaboo'
Plug 'tpope/vim-projectionist'
" Plug 'zchee/deoplete-clang'
Plug 'keith/swift.vim'
Plug 'wojciech-kulik/xcodebuild.nvim'
Plug 'nvim-treesitter/nvim-treesitter'

Plug 'powerman/vim-plugin-AnsiEsc'
" Plug 'Rip-Rip/clang_complete'
" Plug 'tweekmonster/deoplete-clang2'

" Look and Feel
Plug 'chriskempson/base16-vim'
Plug 'vim-airline/vim-airline'
Plug 'vim-airline/vim-airline-themes'

Plug 'vim-scripts/syntaxm4.vim'

" Neovim
Plug 'kassio/neoterm'

" Editing
Plug 'tpope/vim-surround'
Plug 'tpope/vim-abolish'
Plug 'junegunn/vim-easy-align'
Plug 'tpope/vim-commentary'
Plug 'easymotion/vim-easymotion'
Plug 'kana/vim-textobj-user'
Plug 'FooSoft/vim-argwrap'
Plug 'reedes/vim-pencil'
Plug 'itspriddle/vim-marked', {'for': 'markdown'}
Plug 'junegunn/goyo.vim', {'for': 'markdown'}

" Ruby
Plug 'vim-ruby/vim-ruby'
Plug 'tpope/vim-bundler'
Plug 'tpope/vim-rake'
Plug 'tpope/vim-rails'
Plug 'tpope/vim-endwise'
Plug 'jgdavey/vim-blockle'
Plug 'ck3g/vim-change-hash-syntax'
Plug 'tpope/vim-endwise'
" Plug '~/.vim/plugin/cadre'
Plug 'killphi/vim-legend'
Plug 'nelstrom/vim-textobj-rubyblock'
Plug 'lmeijvogel/vim-yaml-helper'
" Vim
Plug 'tpope/vim-scriptease', {'for': 'vim'}
Plug 'ynkdir/vim-vimlparser'
Plug 'syngan/vim-vimlint'

" Go

Plug 'fatih/vim-go', { 'do': ':GoUpdateBinaries' }
"Plug 'farazdagi/vim-go-ide'
" Plug 'neovim/nvim-lspconfig'
" Plug 'ray-x/guihua.lua', {'do': 'cd lua/fzy && make' }
" Plug 'ray-x/navigator.lua'
" Plug 'mfussenegger/nvim-dap'
" Plug 'rcarriga/nvim-dap-ui'
" Plug 'theHamsta/nvim-dap-virtual-text'
Plug 'nvim-treesitter/nvim-treesitter', {'do': ':TSUpdate'}  " We recommend updating the parsers on update
" Plug 'ray-x/go.nvim'

Plug 'benmills/vim-golang-alternate', {'for': 'go'}
" Plug 'janko-m/vim-test'

" Terraform
Plug 'hashivim/vim-terraform'
" Plug 'juliosueiras/vim-terraform-completion'

" Elixir
Plug 'elixir-editors/vim-elixir'
Plug 'slashmili/alchemist.vim'

"spec/features/org_admin/org_admin_can_edit_space_in_french_spec.rb:16 ASM
" Plug 'samsaga2/vim-z80'
Plug 'maxbane/vim-asm_ca65'
Plug 'EmmaEwert/vim-rgbds'
" Plug 'gryf/kickass-syntax-vim'
Plug '~/git/manlycode/particle-io.vim'

" Vim
Plug 'syngan/vim-vimlint'

"JSON
Plug 'vim-scripts/json-formatter.vim'

" SPICE
Plug 'ftorres16/spice.vim'

" Android
" Plug 'hsanson/vim-android'
" Plug 'udalov/kotlin-vim'
" Plug 'cespare/vim-toml'
" Plug 'ftorres16/spice.vim'

" Clojure
Plug 'guns/vim-clojure-static'
Plug 'tpope/vim-classpath'
Plug 'tpope/vim-fireplace'
Plug 'tpope/vim-salve'
Plug 'clojure-vim/async-clj-omni'
" Plug 'jiangmiao/auto-pairs'
Plug 'MattesGroeger/vim-bookmarks'

" Initialize plugin system
 call plug#end()


" General settings
" ------------------------------------------------
set iskeyword+=-
set hidden
set noswapfile
set mouse=a
set timeout
set timeoutlen=1000
set ttimeoutlen=250
set wrap
set ignorecase
set smartcase
set expandtab
" set tabstop=2 shiftwidth=2 softtabstop=2
set autoindent
set smartindent
set smarttab
set splitright
set splitbelow
set termguicolors

"NeoVim handles ESC keys as alt+key set this to solve the problem
if has('nvim')
   set ttimeout
   set ttimeoutlen=0
endif

let g:mapleader=','
set number
set showcmd
set shell=/bin/zsh
set nojoinspaces
set ignorecase
set autowrite
set expandtab
" set list "show those nasty TABs

" Reload config on write
autocmd! BufWritePost ~/.config/nvim/init.vim source ~/.config/nvim/init.vim

let $NVIM_TUI_ENABLE_TRUE_COLOR=1
set guicursor=n-v-c:block,i-ci-ve:ver25,r-cr:hor20,o:hor50
  \,a:blinkwait700-blinkoff400-blinkon250-Cursor/lCursor
  \,sm:block-blinkwait175-blinkoff150-blinkon175


filetype plugin on
filetype plugin indent on
syntax on
set omnifunc=syntaxcomplete#Complete
set wildignore+=*/.git/*,*/log/*,*/tmp/*,*/node_modules/*,*/nes/*,**/*.pyc,.git/*

let g:base16colorspace=256
if filereadable(expand("~/.vimrc_background"))
  let g:base16colorspace=256
  source ~/.vimrc_background
endif

" Key Bindings
nnoremap <leader>ev :tabe ~/.config/nvim/init.vim<cr>:lcd %:p:h<cr>
nnoremap <leader>m :Make<cr>
" nnoremap <C-p> :Files<cr>
" nnoremap <C-m> :FZFMru<cr>
nnoremap <C-b> :Buffers<CR>
nnoremap <leader>ot :Tags <C-r><C-w><cr>
nnoremap <leader>r :NvimTreeRefresh <CR>

" function! FilteredList() abort
"   echo filter(map(range(0, bufnr("$")), 'bufname(v:val)'), 'v:val !~ "term"')
" endfunction

" function! s:buflist()
"   redir => ls
"   silent ls
"   redir END
"   return filter(split(ls, '\n'), 'v:val !~ "term"')
" endfunction

" function! s:bufopen(e)
"   execute 'buffer' matchstr(a:e, '^[ 0-9]*')
" endfunction

" nnoremap <silent> <Leader>ob :call fzf#run({
" \   'source':  reverse(<sid>buflist()),
" \   'sink':    function('<sid>bufopen'),
" \   'options': '+m',
" \   'down':    len(<sid>buflist()) + 2 })<CR>

" Other files
" source ~/.config/nvim/plugins.vim
source ~/.config/nvim/languages.vim
" source ~/.config/nvim/commands.vim

set clipboard=unnamed


" Custom movement between buffers
tnoremap <A-h> <C-\><C-n><C-w>h
tnoremap <A-j> <C-\><C-n><C-w>j
tnoremap <A-k> <C-\><C-n><C-w>k
tnoremap <A-l> <C-\><C-n><C-w>l
nnoremap <A-h> <C-w>h
nnoremap <A-j> <C-w>j
nnoremap <A-k> <C-w>k
nnoremap <A-l> <C-w>l


let g:terminal_scrollback_buffer_size = 2147483646

let g:token="113eda4ab465dc9f416ea955d36738d7"
let g:project_id="792199"

" Clear search highlight
highlight Search ctermbg=yellow ctermfg=black term=underline
nmap <C-l> :noh<CR>

" Comment/Uncomment
vnoremap <leader>c :Commentary<CR>
nnoremap <leader>c :Commentary<CR>

let g:airline_powerline_fonts = 1

set wildignore+=build
set wildignore+=.build
set wildignore+=*.pyc
set wildignore+=node_modules
set wildignore+=Packages


" NeoTerm
let g:neoterm_autoscroll = '1'

" let g:neoterm_default_mod = 'vertical'

let g:neoterm_size = '25'
let g:neoterm_default_mod = 'aboveleft'

nnoremap <silent> <leader>sf :TREPLSendFile<cr>
nnoremap <silent> <leader>sl :TREPLSendLine<cr>
vnoremap <silent> <leader>ss :TREPLSendSelection<cr>
nnoremap <silent> <leader>sp vap:TREPLSendSelection<cr>
nnoremap <silent> <leader>se :T exit<cr>

" Useful maps
" hide/close terminal
nnoremap <silent> ,th :call neoterm#close()<cr>
" clear terminal
nnoremap <silent> ,tl :call neoterm#clear()<cr>
" kills the current job (send a <c-c>)
nnoremap <silent> ,tc :call neoterm#kill()<cr>

" Rails commands
command! Troutes :T rake routes
command! -nargs=+ Troute :T rake routes | grep <args>
command! Tmigrate :T rake db:migrate
command! Trailss :T rails s
command! Trailsc :T rails c

" My Commands
command! Foreman :tabe term://foreman start -f Procfile.dev
command! Github :call jobstart('github')
command! Zeus :tabe|terminal zeus start

" command! Coverage :!open coverage/index.html

" make test commands execute using dispatch.vim
let test#strategy = "neoterm"
" let g:test#neovim#start_normal = 1 " If using neovim strategy

" let test#strategy = "asyncrun_background"
let test#neovim#term_position = "vert"

" these "Ctrl mappings" work well when Caps Lock is mapped to Ctrl
nmap <silent> <leader>tn :TestNearest<CR>
nmap <silent> <leader>tf :TestFile<CR>
nmap <silent> <leader>ts :TestSuite<CR>
nmap <silent> <leader>tl :TestLast<CR>
nmap <silent> <leader>tg :TestVisit<CR>
nmap <silent> <leader>tt :Ttoggle<CR>

nmap <silent> <leader>fw :Ack <C-r><C-w><CR>
nmap <silent> <leader>fp :Ack


" Find files using Telescope command-line sugar.
" nnoremap <leader>ff <cmd>Telescope find_files<cr>
" nnoremap <leader>fg <cmd>Telescope live_grep<cr>
" nnoremap <leader>fb <cmd>Telescope buffers<cr>
" nnoremap <leader>fh <cmd>Telescope help_tags<cr>

" Using Lua functions
nnoremap <leader>ff <cmd>lua require('telescope.builtin').find_files()<cr>
nnoremap <leader>fF <cmd>lua require('telescope.builtin').git_files()<cr>
nnoremap <leader>fg <cmd>lua require('telescope.builtin').live_grep()<cr>
nnoremap <leader>fb <cmd>lua require('telescope.builtin').buffers()<cr>
nnoremap <leader>fh <cmd>lua require('telescope.builtin').help_tags()<cr>
nnoremap <leader>fo <cmd>lua require('telescope.builtin').oldfiles()<cr>


" Terraform
let g:terraform_align=1
let g:terraform_fmt_on_save=1
autocmd FileType terraform setlocal commentstring=#%s

" au BufNewFile,BufRead *.conf.erb set filetype=nginx

" let g:legend_active_auto = 0

let g:go_autodetect_gopath = 0

let g:tagbar_type_ruby = {
    \ 'kinds' : [
        \ 'm:modules',
        \ 'c:classes',
        \ 'd:describes',
        \ 'C:contexts',
        \ 'f:methods',
        \ 'F:singleton methods'
    \ ]
\ }

" Start interactive EasyAlign in visual mode (e.g. vipga)
xmap ga <Plug>(EasyAlign)
" Start interactive EasyAlign for a motion/text object (e.g. gaip)
nmap ga <Plug>(EasyAlign)

" NeoSnippet
" Note: It must be "imap" and "smap".  It uses <Plug> mappings.
imap <C-k>     <Plug>(neosnippet_expand_or_jump)
smap <C-k>     <Plug>(neosnippet_expand_or_jump)
xmap <C-k>     <Plug>(neosnippet_expand_target)

function! GitHub() abort
  te github .
endfunction

let g:neosnippet#snippets_directory='~/.snippets/neosnippets'
let g:deoplete#enable_at_startup = 1
let g:deoplete#sources#clang#libclang_path='/usr/local/Cellar/llvm/9.0.0_1/lib/libclang.dylib'
let g:deoplete#sources#clang#clang_header='/usr/local/Cellar/llvm/9.0.0_1'


" Highlight
let g:go_highlight_functions = 1
let g:go_highlight_methods = 1
let g:go_highlight_structs = 1
let g:go_highlight_operators = 1
let g:go_highlight_build_constraints = 1



" Files + devicons
let $FZF_DEFAULT_COMMAND = 'rg --hidden -l ""'
function! Fzf_dev()
  " let l:fzf_files_options = '--preview "rougify {2..-1} | head -'.&lines.'"'

  function! s:files()
    let l:files = split(system($FZF_DEFAULT_COMMAND), '\n')
    return s:prepend_icon(l:files)
  endfunction

  function! s:prepend_icon(candidates)
    let l:result = []
    for l:candidate in a:candidates
      let l:filename = fnamemodify(l:candidate, ':p:t')
      let l:icon = WebDevIconsGetFileTypeSymbol(l:filename, isdirectory(l:filename))
      call add(l:result, printf('%s %s', l:icon, l:candidate))
    endfor

    return l:result
  endfunction

  function! s:edit_file(item)
    let l:pos = stridx(a:item, ' ')
    let l:file_path = a:item[pos+1:-1]
    execute 'silent e' l:file_path
  endfunction

  call fzf#run({
        \ 'source': <sid>files(),
        \ 'sink':   function('s:edit_file'),
        \ 'down':    '40%' })
endfunction

" nnoremap <leader>of :call Fzf_dev()<cr>
let g:airline_powerline_fonts = 1

autocmd StdinReadPre * let s:std_in=1
highlight ALEWarning ctermbg=lightmagenta
let g:ale_linters = {'ruby': ['ruby'], 'clojure': ['clj-kondo'], 'go': ['gofmt', 'golint', 'go vet', 'gopls']}


filetype plugin indent on
augroup filetypedetect
    au BufNewFile,BufRead .iterm-workspace set ft=json
    au BufNewFile,BufRead *.s,*.inc,*.asm set ft=asm_ca65
    " au BufNewFile,BufRead *.s,*.inc,*.asm set ft=kickass
augroup END



augroup Fastlane
    au BufNewFile,BufRead Fastfile,Appfile set ft=ruby
augroup END

let g:python_host_prog = '/Users/manlycode/.asdf/shims/python'
let g:python3_host_prog = '/Users/manlycode/.asdf/shims/python3'
let g:ruby_host_prog = '/Users/manlycode/.asdf/shims/ruby'


nnoremap <C-n> :NvimTreeToggle<CR>
nnoremap <leader>r :NvimTreeRefresh<CR>
nnoremap <leader>n :NvimTreeToggle<CR>
" NvimTreeOpen, NvimTreeClose, NvimTreeFocus, NvimTreeFindFileToggle, and NvimTreeResize are also available if you need them

set termguicolors " this variable must be enabled for colors to be applied properly

" a list of groups can be found at `:help nvim_tree_highlight`
" highlight NvimTreeFolderIcon guibg=blue



" let g:nvim_tree_quit_on_open = 1 "0 by default, closes the tree when you open a file
" let g:nvim_tree_indent_markers = 1 "0 by default, this option shows indent markers when folders are open
" let g:nvim_tree_git_hl = 1 "0 by default, will enable file highlight for git attributes (can be used without the icons).
" let g:nvim_tree_highlight_opened_files = 1 "0 by default, will enable folder and file icon highlight for opened files/directories.
" let g:nvim_tree_root_folder_modifier = ':~' "This is the default. See :help filename-modifiers for more options
" let g:nvim_tree_add_trailing = 1 "0 by default, append a trailing slash to folder names
" let g:nvim_tree_group_empty = 1 " 0 by default, compact folders that only contain a single folder into one node in the file tree
" let g:nvim_tree_disable_window_picker = 1 "0 by default, will disable the window picker.
" let g:nvim_tree_icon_padding = ' ' "one space by default, used for rendering the space between the icon and the filename. Use with caution, it could break rendering if you set an empty string depending on your font.
" let g:nvim_tree_symlink_arrow = ' >> ' " defaults to ' ‚ûõ '. used as a separator between symlinks' source and target.
" let g:nvim_tree_create_in_closed_folder = 0 "1 by default, When creating files, sets the path of a file when cursor is on a closed folder to the parent folder when 0, and inside the folder when 1.
let g:nvim_tree_refresh_wait = 500 "1000 by default, control how often the tree can be refreshed, 1000 means the tree can be refresh once per 1000ms.
let g:nvim_tree_window_picker_exclude = {
    \   'filetype': [
    \     'notify',
    \     'packer',
    \     'qf'
    \   ],
    \   'buftype': [
    \     'terminal'
    \   ]
    \ }
" Dictionary of buffer option names mapped to a list of option values that
" indicates to the window picker that the buffer's window should not be
" selectable.
let g:nvim_tree_special_files = { 'README.md': 1, 'Makefile': 1, 'MAKEFILE': 1 } " List of filenames that gets highlighted with NvimTreeSpecialFile
let g:nvim_tree_show_icons = {
    \ 'git': 1,
    \ 'folders': 1,
    \ 'files': 1,
    \ 'folder_arrows': 1,
    \ }
"If 0, do not show the icons for one of 'git' 'folder' and 'files'
"1 by default, notice that if 'files' is 1, it will only display
"if nvim-web-devicons is installed and on your runtimepath.
"if folder is 1, you can also tell folder_arrows 1 to show small arrows next to the folder icons.
"but this will not work when you set indent_markers (because of UI conflict)

" default will show icon by default if no icon is provided
" default shows no icon by default
let g:nvim_tree_icons = {
    \ 'default': 'Óòí',
    \ 'symlink': 'ÔíÅ',
    \ 'git': {
    \   'unstaged': "‚úó",
    \   'staged': "‚úì",
    \   'unmerged': "Óúß",
    \   'renamed': "‚ûú",
    \   'untracked': "‚òÖ",
    \   'deleted': "Ôëò",
    \   'ignored': "‚óå"
    \   },
    \ 'folder': {
    \   'arrow_open': "Ôëº",
    \   'arrow_closed': "Ôë†",
    \   'default': "Óóø",
    \   'open': "Óóæ",
    \   'empty': "ÔÑî",
    \   'empty_open': "ÔÑï",
    \   'symlink': "ÔíÇ",
    \   'symlink_open': "Óóæ",
    \   }
    \ }

" nnoremap <C-n> :NvimTreeToggle<CR>
nnoremap <leader>r :NvimTreeRefresh<CR>
nnoremap <leader>n :NvimTreeToggle<CR>
" NvimTreeOpen, NvimTreeClose, NvimTreeFocus, NvimTreeFindFileToggle, and NvimTreeResize are also available if you need them

set termguicolors " this variable must be enabled for colors to be applied properly

" a list of groups can be found at `:help nvim_tree_highlight`
" highlight NvimTreeFolderIcon guibg=blue
lua << NVIM_TREE
-- disable netrw at the very start of your init.lua
vim.g.loaded_netrw = 1
vim.g.loaded_netrwPlugin = 1

-- optionally enable 24-bit colour
vim.opt.termguicolors = true

-- empty setup using defaults
require("nvim-tree").setup()

-- OR setup with some options
require("nvim-tree").setup({
  sort = {
    sorter = "case_sensitive",
  },
  view = {
    width = 30,
  },
  renderer = {
    group_empty = true,
  },
  filters = {
    dotfiles = true,
  },
})

NVIM_TREE

nnoremap <leader>nt :NvimTreeToggle<CR>
nnoremap <leader>r :NvimTreeRefresh<CR>
nnoremap <leader>n :NvimTreeToggle<CR>

" NvimTreeOpen, NvimTreeClose, NvimTreeFocus and NvimTreeResize are also available if you need them
" this variable must be enabled for colors to be applied properly
set termguicolors

" a list of groups can be found at `:help nvim_tree_highlight`

if exists('g:vv')
  VVset fontsize=15
  VVset windowheight=100%
  VVset windowwidth=60%
  VVset windowleft=0
  VVset windowtop=0
  VVset fontfamily=HackNerdFontCompleteM-Regular,\ Menlo,\ Courier\ New
endif


" Run last command in neoterm
" Force bash run the last command (!!)
nnoremap <silent> <leader>tr :<c-u>exec printf("%sTexec !! \<lt>cr>", v:count)<cr>



" vim.g.completion_chain_complete_list = { default = {{ complete_items = { "lsp", "path", "buffers", "snippet" } },{ mode = "<c-p>" },{ mode = "<c-n>" },},TelescopePrompt = {},frecency = {}}

if has("autocmd")
  autocmd FileType TelescopePrompt call deoplete#custom#buffer_option('auto_complete', v:false)
  autocmd BufNewFile,BufRead *.asm,*.s,*.inc makeprg=/usr/bin/make\ %:r
endif


" lua <<EOF
"
"
" local parsers = require("nvim-treesitter.parsers").get_parser_configs()

" parsers.ca65 = {
"   install_info = {
"     url = "~/git/manlycode/tree-sitter-ca65",
"     files = {
"       "src/parser.c",
"     },
"     branch = "main",
"   },
"   filetype = "asm",
"   maintainers = {
"     "@babasbot",
"   },
" }
"
"
"
"
" local protocol = require'vim.lsp.protocol'

" require "nvim-treesitter.configs".setup({
"   incremental_selection = {
"     enable = enable,
"     keymaps = {
"       -- mappings for incremental selection (visual mappings)
"       init_selection = "gnn", -- maps in normal mode to init the node/scope selection
"       node_incremental = "grn", -- increment to the upper named parent
"       scope_incremental = "grc", -- increment to the upper scope (as defined in locals.scm)
"       node_decremental = "grm" -- decrement to the previous node
"     }
"   },

"   textobjects = {
"     -- syntax-aware textobjects
"     enable = enable,
"     lsp_interop = {
"       enable = enable,
"       peek_definition_code = {
"         ["DF"] = "@function.outer",
"         ["DF"] = "@class.outer"
"       }
"     },
"     keymaps = {
"       ["iL"] = {
"         -- you can define your own textobjects directly here
"         go = "(function_definition) @function",
"       },
"       -- or you use the queries from supported languages with textobjects.scm
"       ["af"] = "@function.outer",
"       ["if"] = "@function.inner",
"       ["aC"] = "@class.outer",
"       ["iC"] = "@class.inner",
"       ["ac"] = "@conditional.outer",
"       ["ic"] = "@conditional.inner",
"       ["ae"] = "@block.outer",
"       ["ie"] = "@block.inner",
"       ["al"] = "@loop.outer",
"       ["il"] = "@loop.inner",
"       ["is"] = "@statement.inner",
"       ["as"] = "@statement.outer",
"       ["ad"] = "@comment.outer",
"       ["am"] = "@call.outer",
"       ["im"] = "@call.inner"
"     },
"     move = {
"       enable = enable,
"       set_jumps = true, -- whether to set jumps in the jumplist
"       goto_next_start = {
"         ["]m"] = "@function.outer",
"         ["]]"] = "@class.outer"
"       },
"       goto_next_end = {
"         ["]M"] = "@function.outer",
"         ["]["] = "@class.outer"
"       },
"       goto_previous_start = {
"         ["[m"] = "@function.outer",
"         ["[["] = "@class.outer"
"       },
"       goto_previous_end = {
"         ["[M"] = "@function.outer",
"         ["[]"] = "@class.outer"
"       }
"     },
"     select = {
"       enable = enable,
"       keymaps = {
"         -- You can use the capture groups defined in textobjects.scm
"         ["af"] = "@function.outer",
"         ["if"] = "@function.inner",
"         ["ac"] = "@class.outer",
"         ["ic"] = "@class.inner",
"         -- Or you can define your own textobjects like this
"         ["iF"] = {
"           python = "(function_definition) @function",
"           cpp = "(function_definition) @function",
"           c = "(function_definition) @function",
"           java = "(method_declaration) @function",
"           go = "(method_declaration) @function"
"         }
"       }
"     },
"     swap = {
"       enable = enable,
"       swap_next = {
"         ["<leader>a"] = "@parameter.inner"
"       },
"       swap_previous = {
"         ["<leader>A"] = "@parameter.inner"
"       }
"     }
"   }
" })

" require "navigator".setup({
"   debug = false, -- log output, set to true and log path: ~/.local/share/nvim/gh.log
"   -- put a on_attach of your own here, e.g
"   -- function(client, bufnr)
"   --   -- the on_attach will be called at end of navigator on_attach
"   -- end,
"   -- The attach code will apply to all LSP clients

"   default_mapping = true,  -- set to false if you will remap every key
"   keymaps = {{key = "gK", func = "declaration()"}}, -- a list of key maps
"   -- this kepmap gK will override "gD" mapping function declaration()  in default kepmap
"   -- please check mapping.lua for all keymaps
"   treesitter_analysis = true, -- treesitter variable context
"   transparency = 50, -- 0 ~ 100 blur the main window, 100: fully transparent, 0: opaque,  set to nil or 100 to disable it
"   icons = {
"     -- Code action
"     code_action_icon = "üèè",
"     -- Diagnostics
"     diagnostic_head = 'üêõ',
"     diagnostic_head_severity_1 = "üà≤",
"     -- refer to lua/navigator.lua for more icons setups
"   },
"   lsp_installer = false, -- set to true if you would like use the lsp installed by williamboman/nvim-lsp-installer
"   lsp = {
"     code_action = {enable = true, sign = true, sign_priority = 40, virtual_text = false},
"     code_lens_action = {enable = true, sign = true, sign_priority = 40, virtual_text = false},
"     format_on_save = true, -- set to false to disasble lsp code format on save (if you are using prettier/efm/formater etc)
"     disable_format_cap = {"sqls", "sumneko_lua", "gopls"},  -- a list of lsp disable format capacity (e.g. if you using efm or vim-codeformat etc), empty {} by default
"     disable_lsp = {'pylsd', 'sqlls'}, -- a list of lsp server disabled for your project, e.g. denols and tsserver you may
"     -- only want to enable one lsp server
"     -- to disable all default config and use your own lsp setup set
"     -- disable_lsp = 'all'
"     -- Default {}
"     diagnostic_scrollbar_sign = {'‚ñÉ', '‚ñÜ', '‚ñà'}, -- experimental:  diagnostic status in scroll bar area; set to false to disable the diagnostic sign,
"     -- for other style, set to {'‚ïç', 'ÔÆÜ'} or {'-', '='}
"     diagnostic_virtual_text = false,  -- show virtual for diagnostic message
"     diagnostic_update_in_insert = false, -- update diagnostic message in insert mode
"     disply_diagnostic_qf = true, -- always show quickfix if there are diagnostic errors, set to false if you  want to ignore it
"     tsserver = {
"       filetypes = {'typescript'} -- disable javascript etc,
"       -- set to {} to disable the lspclient for all filetypes
"     },
"     gopls = {   -- gopls setting
"       on_attach = function(client, bufnr)  -- on_attach for gopls
"         -- your special on attach here
"         -- e.g. disable gopls format because a known issue https://github.com/golang/go/issues/45732
"         print("i am a hook, I will disable document format")
"         client.resolved_capabilities.document_formatting = false
"       end,
"       settings = {
"         gopls = {gofumpt = false} -- disable gofumpt etc,
"       }
"     },
"     sumneko_lua = {
"       sumneko_root_path = vim.fn.expand("$HOME") .. "/github/sumneko/lua-language-server",
"       sumneko_binary = vim.fn.expand("$HOME") .. "/github/sumneko/lua-language-server/bin/macOS/lua-language-server",
"     },
"     servers = {'cmake', 'ltex'}, -- by default empty, but if you whant navigator load  e.g. `cmake` and `ltex` for you , you
"     -- can put them in the `servers` list and navigator will auto load them.
"     -- you could still specify the custom config  like this
"     -- cmake = {filetypes = {'cmake', 'makefile'}, single_file_support = false},
"   }
" })


" EOF

let test#go#runner = 'ginkgo'
let g:go_debug_windows = {
      \ 'vars':       'rightbelow 60vnew',
      \ 'stack':      'rightbelow 10new',
\ }

colorscheme gruvbox
